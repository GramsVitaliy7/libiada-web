@model dynamic

@{
    ViewBag.Title = "Вычисление характеристик произвольной цепочки";
}

<h2>Вычисление характеристик произвольной цепочки</h2>

<script type="text/javascript">

    var divCounter = 0;
    
    $(document).ready(function () {

        AddCharacteristic();
    });

    function AddCharacteristic() {
        
        var characteristicTypes = new Array();
        var linkUps = new Array();

        @foreach (var option in ViewBag.characteristicsList)
        {
            @:characteristicTypes.push($("<option/>").attr("value", @option.Value).text('@option.Text'));
        }

        @foreach (var option in ViewBag.linkUpsList)
        {
            @:linkUps.push($("<option/>").attr("value", @option.Value).text('@option.Text'));
        }

        var characteristicsDiv = CreateCharacteristicsBlock(divCounter, characteristicTypes, linkUps);
        $("#characteristics_list").append(characteristicsDiv);
        divCounter++;
        
        return false;
    }
</script>

@using (Html.BeginForm())
{
    @Html.Label("Цепочка")
    @Html.Editor("chain")
    <br/>
    <input type="button" onclick="AddCharacteristic()" value="Добавить характеристику"/>
    <div id="characteristics_list"></div>
    <br/>
    <br/>
    <input type="submit" value="Вычислить" />
}