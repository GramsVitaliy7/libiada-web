@model LibiadaWeb.chain

@{
    ViewBag.Title = "Цепочки";
}

<h2>Создание цепочки</h2>

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

<script language="javascript">

    function SelectChainType(event) {
        switch (event.target.value) {
            case "1":
                $("#literatureChain")[0].hidden = true;
                break;
            case "2":
                $("#literatureChain")[0].hidden = true;
                break;
            case "3":
                $("#literatureChain")[0].hidden = true;
                break;
            case "6":
                $("#literatureChain")[0].hidden = true;
                break;
            case "13":
                $("#literatureChain")[0].hidden = false;
                break;
            default:
        }

    }

    $(document).ready(function () {
        var notation_id = $("[name='notation_id']")[0];
        notation_id.onclick = SelectChainType;
    });
    
</script>

@using (Html.BeginForm("Create", "Chain", FormMethod.Post, new { enctype = "multipart/form-data" })) 
{
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>Цепочка</legend>

        <input type="file" name="file" id="file"/>

        <div class="editor-label">
            @Html.LabelFor(model => model.building_type_id, "Тип строя")
        </div>
        <div class="editor-field">
            @Html.DropDownList("building_type_id", String.Empty)
            @Html.ValidationMessageFor(model => model.building_type_id)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.notation_id, "Форма записи")
        </div>
        <div class="editor-field">
            @Html.DropDownList("notation_id", String.Empty)
            @Html.ValidationMessageFor(model => model.notation_id)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.matter_id, "Принадлежит объекту исследования:")
        </div>
        <div class="editor-field">
            @Html.DropDownList("matter_id", String.Empty)
            @Html.ValidationMessageFor(model => model.matter_id)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.dissimilar,"Цепочка разнородная")
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.dissimilar)
            @Html.ValidationMessageFor(model => model.dissimilar)
        </div>
        
        <div class="editor-label">
            @Html.LabelFor(model => model.piece_type_id, "Тип фрагмента цепочки")
        </div>
        <div class="editor-field">
                @Html.DropDownList("piece_type_id", String.Empty)
                @Html.ValidationMessageFor(model => model.piece_type_id)
        </div>

        <div id="literatureChain" hidden="true">
        <div class="editor-label">
           <label>Язык литературного произведения</label>
        </div>
        <select name="languageId">
        @foreach (var option in ViewBag.language_id)
        {
            <option value="@option.Value">@option.Text</option>
        }
        </select>

            <div class="editor-label">
                <label>Произведение является оригиналом, а не переводом</label>
            </div>

        <input type="checkbox" name="original" id="original" value="true" />
        <input type="hidden" name="original" value="false" />
        </div>
        <p>
            <input type="submit" value="Создать" />
        </p>
    </fieldset>
}

<div>
    @Html.ActionLink("Назад к списку", "Index")
</div>
